# Generated by Django 4.1.3 on 2023-11-11 23:09

from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('attachments', '0002_initial'),
        ('company', '0002_initial'),
        ('tenant', '0001_initial'),
        ('hr', '0001_initial'),
        ('opportunity', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='OpportunityTask',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('start_date', models.DateTimeField(null=True, verbose_name='Start Date')),
                ('end_date', models.DateTimeField(null=True, verbose_name='End Date')),
                ('estimate', models.CharField(max_length=10, null=True, verbose_name='Estimate Time')),
                ('opportunity_data', models.JSONField(default=dict, null=True, verbose_name='opportunity backup')),
                ('priority', models.SmallIntegerField(choices=[(0, 'Low'), (1, 'Medium'), (2, 'High')], default=0)),
                ('label', models.JSONField(default=list, null=True, verbose_name='Tag label')),
                ('remark', models.TextField(blank=True)),
                ('checklist', models.JSONField(default=list, help_text='[{"name": "read document", "done": false}]', null=True, verbose_name='Checklist')),
                ('log_time', models.JSONField(default=list, help_text='{"start_date": "YYYY-MM-DD", "end_date": "YYYY-MM-DD", "time_spent": "eg. 3w 4d 12h"}', null=True, verbose_name='self employee log time after create task')),
                ('attach', models.JSONField(default=list, help_text='["uuid4", "uuid4"]', null=True, verbose_name='attachment file')),
                ('assign_to', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='opportunity_task_assign_to', to='hr.employee')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_inherit', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tasks_opportunitytasks_employee_inherit', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('opportunity', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='opportunity.opportunity', verbose_name='Opportunity code')),
                ('parent_n', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='task.opportunitytask', verbose_name='Sub-task of parent task')),
            ],
            options={
                'verbose_name': 'Opportunity Task Log Work',
                'verbose_name_plural': 'Opportunity Task Log Work',
                'ordering': ('date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OpportunityTaskConfig',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('list_status', models.JSONField(default=list, help_text=b'[{"name": "To do", "translate_name": "Vi\xe1\xbb\x87c c\xe1\xba\xa7n l\xc3\xa0m", "id": "id_str", "order": 1}, {"name": "In Progress", "translate_name": "\xc4\x91ang l\xc3\xa0m", "id": "id_str", "order": 2}, {"name": "Completed", "translate_name": "\xc4\x91\xc3\xa3 ho\xc3\xa0n th\xc3\xa0nh", "id": "id_str", "order": 3}, {"name": "Pending", "translate_name": "t\xe1\xba\xa1m ng\xc6\xb0ng", "id": "id_str", "order": 4}]', verbose_name='List of task status data backup')),
                ('is_edit_date', models.BooleanField(default=False, verbose_name='Assignee can edit start/end date')),
                ('is_edit_est', models.BooleanField(default=False, verbose_name='Assignee can edit Estimate')),
                ('is_in_assign', models.BooleanField(default=True, verbose_name='Assigner can assign task to everyone')),
                ('in_assign_opt', models.IntegerField(choices=[(0, 'None'), (1, 'only member in'), (2, 'only staff in dept'), (3, '1 & 2 both')], default=0, verbose_name='option assign in opp/pro')),
                ('is_out_assign', models.BooleanField(default=True, verbose_name='Assigner can assign task to everyone')),
                ('out_assign_opt', models.IntegerField(choices=[(0, 'None'), (1, 'only member in dept'), (2, 'only staff in dept'), (3, 'both 1 & 2')], default=0, verbose_name='option assign out opp/pro')),
                ('company', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='opportunity_task_config_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Opportunity task config',
                'verbose_name_plural': 'Opportunity task config',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='TaskAttachmentFile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('order', models.SmallIntegerField(default=1)),
                ('media_file', models.UUIDField(default=uuid.uuid4, unique=True)),
                ('attachment', models.OneToOneField(help_text='Task had one/many attachment file', on_delete=django.db.models.deletion.CASCADE, related_name='task_attachment_file', to='attachments.files', verbose_name='Task attachment files')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('task', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='task.opportunitytask', verbose_name='Attachment file of task')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Opportunity Attachment Task',
                'verbose_name_plural': 'Opportunity Attachment Task',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OpportunityTaskStatus',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('title', models.CharField(max_length=100, verbose_name='Title Status')),
                ('translate_name', models.CharField(max_length=100, verbose_name='Title Status translated')),
                ('order', models.SmallIntegerField(default=1)),
                ('is_edit', models.BooleanField(default=True, verbose_name='User can edit or not')),
                ('task_kind', models.SmallIntegerField(choices=[(0, 'Normal'), (1, 'To do'), (2, 'Completed'), (3, 'Pending')], default=0)),
                ('task_color', models.CharField(default=None, max_length=100, null=True, verbose_name='Status color')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('task_config', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='task.opportunitytaskconfig', verbose_name='Task Config')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Task Status',
                'verbose_name_plural': 'Task Status',
                'ordering': ('order',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='opportunitytask',
            name='task_status',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='task.opportunitytaskstatus', verbose_name='Task status'),
        ),
        migrations.AddField(
            model_name='opportunitytask',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.CreateModel(
            name='OpportunityLogWork',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('start_date', models.DateTimeField(verbose_name='Start Date')),
                ('end_date', models.DateTimeField(verbose_name='End Date')),
                ('time_spent', models.CharField(max_length=10, verbose_name='Time spent')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee log work', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='opportunity_log_work_employee_created', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('task', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='task.opportunitytask', verbose_name='Opportunity Task')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Opportunity Task Log Work',
                'verbose_name_plural': 'Opportunity Task Log Work',
                'permissions': (),
                'default_permissions': (),
            },
        ),
    ]
