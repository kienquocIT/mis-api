# Generated by Django 4.1.3 on 2023-05-31 16:23

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('company', '0004_companyconfig'),
        ('hr', '0001_initial'),
        ('saleorder', '0003_saleorder_delivery_call_and_more'),
        ('tenant', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('saledata', '0022_alter_account_annual_revenue_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='OrderDelivery',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('sale_order_data', models.JSONField(default=dict, verbose_name='Sale Order data')),
                ('from_picking_area', models.TextField(blank=True, verbose_name='From Picking Area')),
                ('customer_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": ""}', verbose_name='Customer Data backup')),
                ('contact_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": ""}', verbose_name='Contact Data backup')),
                ('estimated_delivery_date', models.DateTimeField(null=True, verbose_name='Delivery Date ')),
                ('actual_delivery_date', models.DateTimeField(null=True, verbose_name='Delivery Date ')),
                ('kind_pickup', models.SmallIntegerField(choices=[(0, 'Wait auto picking'), (1, 'Manual select product')], default=0, help_text='Wait picking push trigger or person manual update product in warehouse', verbose_name='Is wait pickup')),
                ('state', models.SmallIntegerField(choices=[(0, 'Wait'), (1, 'Partial'), (2, 'Full')], default=0)),
                ('remarks', models.TextField(blank=True)),
                ('delivery_option', models.SmallIntegerField(choices=[(0, 'Full'), (1, 'Partial')], help_text='Delivery option when change in this records', verbose_name='Delivery Option')),
                ('delivery_quantity', models.SmallIntegerField(verbose_name='Quantity need pickup of SaleOrder')),
                ('delivered_quantity_before', models.SmallIntegerField(default=0, verbose_name='Quantity was picked before')),
                ('remaining_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity need pick')),
                ('ready_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity was picked')),
                ('delivery_data', models.JSONField(default=dict, help_text='{"{ID Product}": {"delivery_quantity": "(Total delivery quantity need delivery)", "delivered_quantity_before": "(Total delivered quantity before)", "remaining_quantity": "(Quantity need delivery in this record)", "ready_quantity": "(Delivery quantity was delivered in this record)"}}', verbose_name='Delivery Info')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('contact', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='order_delivery_contact', to='saledata.contact', verbose_name='customer')),
                ('customer', models.ForeignKey(help_text='sale data Accounts have type customer', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='order_delivery_customer', to='saledata.account', verbose_name='customer')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='User modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to=settings.AUTH_USER_MODEL)),
                ('sale_order', models.OneToOneField(help_text='The Sale Order had one/many Order Picking', on_delete=django.db.models.deletion.CASCADE, related_name='delivery_of_sale_order', to='saleorder.saleorder', verbose_name='Order Picking of Sale Order')),
            ],
            options={
                'verbose_name': 'Order Delivery',
                'verbose_name_plural': 'Order Delivery',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OrderDeliveryProduct',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('product_data', models.JSONField(default=dict, help_text='[{"id": "", "title": "", "code": "", "remarks": ""}]', verbose_name='Product Data backup')),
                ('uom_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": ""}', verbose_name='Unit of Measure backup')),
                ('delivery_quantity', models.SmallIntegerField(verbose_name='Quantity need pickup of SaleOrder')),
                ('delivered_quantity_before', models.SmallIntegerField(default=0, verbose_name='Quantity was picked before')),
                ('remaining_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity need pick')),
                ('ready_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity was picked')),
            ],
            options={
                'verbose_name': 'Delivery Product',
                'verbose_name_plural': 'Delivery Product',
                'ordering': ('delivery_sub',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OrderPicking',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('sale_order_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": ""}', verbose_name='Sale Order data')),
                ('ware_house_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": ""}', verbose_name='WareHouse data')),
                ('estimated_delivery_date', models.DateTimeField(null=True, verbose_name='Delivery Date ')),
                ('state', models.SmallIntegerField(choices=[(0, 'Ready'), (1, 'Done')], default=0)),
                ('remarks', models.TextField(blank=True)),
                ('to_location', models.TextField(blank=True)),
                ('delivery_option', models.SmallIntegerField(choices=[(0, 'Full'), (1, 'Partial')], help_text='Delivery option when change in this records', verbose_name='Delivery Option')),
                ('pickup_quantity', models.SmallIntegerField(verbose_name='Quantity need pickup of SaleOrder')),
                ('picked_quantity_before', models.SmallIntegerField(default=0, verbose_name='Quantity was picked before')),
                ('remaining_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity need pick')),
                ('picked_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity was picked')),
                ('pickup_data', models.JSONField(default=dict, help_text='{"{ID Product}": {"pickup_quantity": "(Total pickup quantity need pickup)", "picked_quantity_before": "(Total picked quantity before)", "remaining_quantity": "(Quantity need pick in this record)", "picked_quantity": "(Picked quantity was pick in this record)"}}', verbose_name='Picked Info')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='User modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to=settings.AUTH_USER_MODEL)),
                ('sale_order', models.OneToOneField(help_text='The Sale Order had one/many Order Picking', on_delete=django.db.models.deletion.CASCADE, related_name='picking_of_sale_order', to='saleorder.saleorder', verbose_name='Order Picking of Sale Order')),
            ],
            options={
                'verbose_name': 'Sale Order Picking',
                'verbose_name_plural': 'Sale Order Picking',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OrderPickingProduct',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('product_data', models.JSONField(default=dict, help_text='[{"id": "", "title": "", "code": "", "remarks": ""}]', verbose_name='Product Data backup')),
                ('uom_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": ""}', verbose_name='Unit of Measure backup')),
                ('pickup_quantity', models.SmallIntegerField(verbose_name='Quantity need pickup of SaleOrder')),
                ('picked_quantity_before', models.SmallIntegerField(default=0, verbose_name='Quantity was picked before')),
                ('remaining_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity need pick')),
                ('picked_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity was picked')),
            ],
            options={
                'verbose_name': 'Product of Order Picking',
                'verbose_name_plural': 'Product of Order Picking',
                'ordering': ('picking_sub',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OrderPickingSub',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('date_done', models.DateTimeField(help_text='The record done at value', null=True)),
                ('times', models.SmallIntegerField(default=1, verbose_name='Time Re-Picking')),
                ('pickup_quantity', models.SmallIntegerField(verbose_name='Quantity need pickup of SaleOrder')),
                ('picked_quantity_before', models.SmallIntegerField(default=0, verbose_name='Quantity was picked before')),
                ('remaining_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity need pick')),
                ('picked_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity was picked')),
                ('pickup_data', models.JSONField(default=dict, help_text='{"{ID Product}": {"pickup_quantity": "(Total pickup quantity need pickup)", "picked_quantity_before": "(Total picked quantity before)", "remaining_quantity": "(Quantity need pick in this record)", "picked_quantity": "(Picked quantity was pick in this record)"}}', verbose_name='Picked Info')),
                ('ware_house_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": ""}', verbose_name='WareHouse data')),
                ('remarks', models.TextField(blank=True)),
                ('to_location', models.TextField(blank=True)),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='User modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to=settings.AUTH_USER_MODEL)),
                ('order_picking', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='delivery.orderpicking', verbose_name='Order Product of Picking')),
                ('previous_step', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='delivery.orderpickingsub', verbose_name='Previous Picking')),
                ('products', models.ManyToManyField(related_name='products_of_order_picking', through='delivery.OrderPickingProduct', to='saledata.product')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
                ('ware_house', models.ForeignKey(help_text='Auto select first ware house in list', null=True, on_delete=django.db.models.deletion.SET_NULL, to='saledata.warehouse', verbose_name='Ware-House selected for picking')),
            ],
            options={
                'verbose_name': 'Order Picking Sub',
                'verbose_name_plural': 'Order Picking Sub',
                'ordering': ('-times',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='orderpickingproduct',
            name='picking_sub',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='delivery.orderpickingsub', verbose_name='Order Picking Sub of Product'),
        ),
        migrations.AddField(
            model_name='orderpickingproduct',
            name='product',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='saledata.product', verbose_name='Product need Picking'),
        ),
        migrations.AddField(
            model_name='orderpickingproduct',
            name='uom',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='saledata.unitofmeasure', verbose_name=''),
        ),
        migrations.AddField(
            model_name='orderpicking',
            name='sub',
            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.SET_NULL, to='delivery.orderpickingsub', verbose_name='Only one sub in the current'),
        ),
        migrations.AddField(
            model_name='orderpicking',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='orderpicking',
            name='ware_house',
            field=models.ForeignKey(help_text='Auto select first ware house in list', null=True, on_delete=django.db.models.deletion.SET_NULL, to='saledata.warehouse', verbose_name='Ware-House selected for picking'),
        ),
        migrations.CreateModel(
            name='OrderDeliverySub',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('date_done', models.DateTimeField(help_text='The record done at value')),
                ('times', models.SmallIntegerField(default=1, verbose_name='Time Re-Picking')),
                ('delivery_quantity', models.SmallIntegerField(verbose_name='Quantity need pickup of SaleOrder')),
                ('delivered_quantity_before', models.SmallIntegerField(default=0, verbose_name='Quantity was picked before')),
                ('remaining_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity need pick')),
                ('ready_quantity', models.SmallIntegerField(default=0, verbose_name='Quantity was picked')),
                ('delivery_data', models.JSONField(default=dict, help_text='{"{ID Product}": {"delivery_quantity": "(Total delivery quantity need delivery)", "delivered_quantity_before": "(Total delivered quantity before)", "remaining_quantity": "(Quantity need delivery in this record)", "ready_quantity": "(Delivery quantity was delivered in this record)"}}', verbose_name='Delivery Info')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='User modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to=settings.AUTH_USER_MODEL)),
                ('order_delivery', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='delivery.orderdelivery', verbose_name='Order Delivery')),
                ('previous_step', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='delivery.orderdeliverysub', verbose_name='Previous Delivery')),
                ('products', models.ManyToManyField(related_name='products_of_order_delivery', through='delivery.OrderDeliveryProduct', to='saledata.product')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Order Delivery Sub',
                'verbose_name_plural': 'Order Delivery Sub',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='orderdeliveryproduct',
            name='delivery_sub',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='delivery.orderdeliverysub', verbose_name='Order Delivery of Product'),
        ),
        migrations.AddField(
            model_name='orderdeliveryproduct',
            name='product',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='saledata.product', verbose_name='Product need Picking'),
        ),
        migrations.AddField(
            model_name='orderdeliveryproduct',
            name='uom',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='saledata.unitofmeasure', verbose_name=''),
        ),
        migrations.AddField(
            model_name='orderdelivery',
            name='sub',
            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.SET_NULL, to='delivery.orderdeliverysub', verbose_name='Only one sub in the current'),
        ),
        migrations.AddField(
            model_name='orderdelivery',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.CreateModel(
            name='DeliveryConfig',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('is_picking', models.BooleanField(default=False, verbose_name='setup Picking before delivery')),
                ('is_partial_ship', models.BooleanField(default=False, verbose_name='Partial delivery')),
                ('company', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='sales_delivery_config_detail', to='company.company')),
            ],
            options={
                'verbose_name': 'Delivery Config of Company',
                'verbose_name_plural': 'Delivery Config of Company',
                'permissions': (),
                'default_permissions': (),
            },
        ),
    ]
