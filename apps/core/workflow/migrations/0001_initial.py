# Generated by Django 4.1.3 on 2023-11-11 23:09

from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('company', '0002_initial'),
        ('log', '0001_initial'),
        ('tenant', '0001_initial'),
        ('base', '0001_initial'),
        ('hr', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Association',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('node_in_data', models.JSONField(default=dict)),
                ('node_out_data', models.JSONField(default=dict)),
                ('condition', models.JSONField(blank=True, default=list, null=True, verbose_name='Condition')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
            ],
            options={
                'verbose_name': 'Association',
                'verbose_name_plural': 'Associations',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='CollabInWorkflow',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='hr.employee')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
            ],
            options={
                'verbose_name': 'Collab in workflow',
                'verbose_name_plural': 'Collab in workflow',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='CollaborationInForm',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('app_property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.applicationproperty')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
            ],
            options={
                'verbose_name': 'Collab in form',
                'verbose_name_plural': 'Collab in form',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='CollaborationOutForm',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
            ],
            options={
                'verbose_name': 'Collab out form',
                'verbose_name_plural': 'Collab out form',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='InitialNodeZone',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
            ],
            options={
                'verbose_name': 'Initial Node Zone',
                'verbose_name_plural': 'Initial Node Zones',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Node',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('remark', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('actions', models.JSONField(default=list, help_text='actions of node', verbose_name='actions')),
                ('is_system', models.BooleanField(default=False, help_text='check if is nodes system', verbose_name='is system')),
                ('code_node_system', models.CharField(blank=True, help_text='code nodes system: Initial, Approve, Complete,...', max_length=100, null=True)),
                ('option_collaborator', models.SmallIntegerField(choices=[(0, 'In form'), (1, 'Out form'), (2, 'In workflow')], default=0, help_text='option choose collaborator: In form, Out form, In workflow', verbose_name='collaborator options')),
                ('collab_in_form', models.JSONField(default=dict, help_text='use for option in form')),
                ('collab_out_form', models.JSONField(default=dict, help_text='use for option out form')),
                ('collab_in_workflow', models.JSONField(default=list, help_text='use for option in workflow')),
                ('zone_initial_node', models.JSONField(default=list, help_text='list zones of initial node', verbose_name='zone')),
                ('order', models.IntegerField(null=True)),
                ('condition', models.JSONField(blank=True, default=list, null=True, verbose_name='Condition')),
                ('coordinates', models.JSONField(default=dict, verbose_name='coordinates')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Node',
                'verbose_name_plural': 'Nodes',
                'ordering': ('order',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Runtime',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('doc_id', models.UUIDField(verbose_name='Document was runtime')),
                ('doc_title', models.TextField(blank=True, help_text='Title get from Doc Obj when create runtime obj', verbose_name='Title of Doc')),
                ('app_code', models.CharField(help_text='{app_label}.{model}', max_length=100, verbose_name='Code of application')),
                ('doc_params', models.JSONField(default=dict, verbose_name='Params parsed of doc runtime')),
                ('state', models.IntegerField(choices=[(0, 'Created'), (1, 'In Progress'), (2, 'Finish'), (3, 'Finish with flow non-apply')], default=0, verbose_name='State of stage runtime')),
                ('status', models.IntegerField(choices=[(0, 'Waiting'), (1, 'Success'), (2, 'Fail'), (3, 'Pending')], default=0, verbose_name='Status of document runtime')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at time')),
                ('date_finished', models.DateTimeField(help_text='The records finish at time', null=True)),
                ('task_bg_state', models.CharField(choices=[('PENDING', 'The task is waiting to be executed | task đang chờ để được thực thi'), ('STARTED', 'The task has started execution | task đã được bắt đầu thực thi'), ('SUCCESS', 'The task has successfully executed | task đã thực thi thành công'), ('FAILURE', 'The task has failed during execution | task đã thất bại trong quá trình thực thi'), ('RETRY', 'The task is being retried after a failure | task đang được thực hiện lại sau khi đã thất bại'), ('REVOKED', 'The task has been cancelled before completion or execution | task đã bị hủy bỏ trước khi hoàn thành hoặc bị thực thi'), ('IGNORED', 'The task was ignored and not executed | task bị bỏ qua và không được thực thi')], default='PENDING', help_text='Sate run of task background', max_length=10, verbose_name='State Task BG')),
                ('start_mode', models.PositiveSmallIntegerField(choices=[(0, 'UnApply'), (1, 'Apply'), (2, 'Pending')], default=None, null=True)),
                ('app', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.application', verbose_name='App of DocID')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('doc_employee_created', models.ForeignKey(help_text='Data from Runtime first time', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employee_created_of_runtime', to='hr.employee', verbose_name='Employee created of Document')),
                ('doc_employee_inherit', models.ForeignKey(help_text='Data from Runtime first time', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employee_inherit_of_runtime', to='hr.employee', verbose_name='Employee inherit of Document')),
                ('doc_pined', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='runtime_of_doc_pined', to='log.docpined', verbose_name='Doc Pined relate')),
            ],
            options={
                'verbose_name': 'Runtime',
                'verbose_name_plural': 'Runtime',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='RuntimeAssignee',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('zone_and_properties', models.JSONField(default=dict, help_text='[{"id": "", "title": "", "remark": "", "properties": ["application_property_id"]}]', verbose_name='Zone detail and Properties ID of Zone | collect from Zone() and ApplicationProperties()')),
                ('action_perform', models.JSONField(default=list, help_text='[0,1,2,3]', verbose_name='Is action code array that was performed by assignee')),
                ('is_done', models.BooleanField(default=False, help_text='True if assignee finish your task, False if assignee need action finish with approve, next,...', verbose_name='Flag status Task of assignee')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at time')),
                ('employee_data', models.JSONField(default=dict, help_text='{"id": "", "first_name": "", "last_name": "", "full_name": "", "avatar": ""}', verbose_name='Employee backup data')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='all_runtime_assignee_of_employee', to='hr.employee', verbose_name='Employee selected')),
            ],
            options={
                'verbose_name': 'Stage map Employee plus Zone',
                'verbose_name_plural': 'Stage map Employee plus Zone',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Workflow',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_delete', models.BooleanField(default=False)),
                ('code_application', models.TextField(help_text='code of application in base', null=True, verbose_name='code application')),
                ('is_active', models.BooleanField(default=True, verbose_name='active status')),
                ('is_multi_company', models.BooleanField(default=False, verbose_name='Multi company')),
                ('is_define_zone', models.BooleanField(default=False, verbose_name='Define zone')),
                ('actions_rename', models.JSONField(default=list, help_text='use for show rename of actions in specific workflow')),
                ('is_applied', models.BooleanField(default=False, help_text='to know what workflow is currently applied for application')),
                ('date_applied', models.DateField(help_text='date applied this workflow for application', null=True)),
                ('application', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='workflow_application', to='base.application', verbose_name='application')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Workflow',
                'verbose_name_plural': 'Workflows',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Zone',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('remark', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('property_list', models.JSONField(default=list, verbose_name='property list')),
                ('order', models.IntegerField(null=True)),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
            ],
            options={
                'verbose_name': 'Zone in workflow',
                'verbose_name_plural': 'Zone in workflow',
                'ordering': ('order',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='ZoneProperties',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('app_property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base.applicationproperty')),
                ('zone', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.zone')),
            ],
            options={
                'verbose_name': 'Zone Property',
                'verbose_name_plural': 'Zones Properties',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='zone',
            name='properties',
            field=models.ManyToManyField(related_name='zones_map_properties', through='workflow.ZoneProperties', to='base.applicationproperty'),
        ),
        migrations.AddField(
            model_name='zone',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='zone',
            name='workflow',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='zone_workflow', to='workflow.workflow'),
        ),
        migrations.CreateModel(
            name='RuntimeViewer',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('is_active', models.BooleanField(default=True)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='hr.employee', verbose_name='Employee of Viewer')),
                ('runtime', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.runtime', verbose_name='Runtime of Viewer')),
            ],
            options={
                'verbose_name': 'Viewer Append of Runtime',
                'verbose_name_plural': 'Viewer Append of Runtime',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
                'unique_together': {('runtime', 'employee')},
            },
        ),
        migrations.CreateModel(
            name='RuntimeStage',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100, verbose_name='Title copy from node')),
                ('code', models.CharField(blank=True, max_length=100, verbose_name='Code copy from node')),
                ('node_data', models.JSONField(default=dict, help_text='{"id": "", "title": "", "code": "", "date_created": ""}', verbose_name='Detail of Config Node at this created')),
                ('actions', models.JSONField(default=dict, help_text='Collect from Node.actions', verbose_name='Action code array')),
                ('exit_node_conditions', models.JSONField(default=dict, help_text='Collect data from Node.condition)', verbose_name='Condition for exit node')),
                ('association_passed_data', models.JSONField(default=dict, help_text='{"id": "", "node_in": {"id": "", "title": "", "code": ""}, "node_out": {"id": "", "title": "", "code": ""}, "condition": []}', verbose_name='Storage data of association passed')),
                ('assignee_count', models.SmallIntegerField(default=0, help_text='Counter of assignee_and_zone, count employee', verbose_name='Employee Count')),
                ('assignee_and_zone_data', models.JSONField(default=dict, help_text='{"employee_id": [{"id": "", "title": "", "remark": "", "properties": ["application_property_id"]}]}', verbose_name='Summary assignee and zone data')),
                ('order', models.IntegerField(default=0, verbose_name='Order Number step in Runtime, Stage arrange in order by ASC (ascending)')),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='Node was created at time')),
                ('date_exit', models.DateTimeField(help_text='Node was exited at time', null=True)),
                ('log_count', models.SmallIntegerField(default=0, help_text='Support display UX of FE', verbose_name='Total log of Stage')),
                ('assignee_and_zone', models.ManyToManyField(help_text='Assignee have task with properties zone', related_name='assignee_and_zone_of_runtime_stage', through='workflow.RuntimeAssignee', to='hr.employee', verbose_name='Employee + Zone need action in this stage')),
                ('association_passed', models.ForeignKey(help_text='Association selected when create stage from node', null=True, on_delete=django.db.models.deletion.SET_NULL, to='workflow.association', verbose_name='Association was passed')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('from_stage', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stage_stage_before', to='workflow.runtimestage', verbose_name='Stage Before (from node)')),
                ('node', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.node', verbose_name='Relate to Config Node. node_data get data from this')),
                ('runtime', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.runtime', verbose_name='All Node by Runtime')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
                ('to_stage', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stage_stage_after', to='workflow.runtimestage', verbose_name='Stage After (to node)')),
            ],
            options={
                'verbose_name': 'Runtime Node',
                'verbose_name_plural': 'Runtime Node',
                'ordering': ('-order',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='RuntimeLog',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('is_system', models.BooleanField(default=False, verbose_name='Is system Log')),
                ('actor_data', models.JSONField(default=dict, help_text='{"id": "", "first_name": "", "last_name": "", "email": "", "avatar": "",}', verbose_name="Employee's data changed docs")),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='Log Activity was created at time')),
                ('kind', models.SmallIntegerField(choices=[(0, 'Login'), (1, 'In Doc'), (2, 'In Flow')], help_text='0: log from login, 1: log from doc, 2: log from workflow', verbose_name='Flag filter doc for some main case: login history, doc history only, flow history only.')),
                ('action', models.SmallIntegerField(verbose_name='Action choice that was used by actor')),
                ('msg', models.TextField(blank=True, verbose_name='Message log action of actor')),
                ('actor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='hr.employee')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('runtime', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.runtime', verbose_name='All log of Runtime Doc')),
                ('stage', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='log_of_stage_runtime', to='workflow.runtimestage', verbose_name='Log in Stage Runtime | =null when Runtime create + Dont apply WF')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
            ],
            options={
                'verbose_name': 'Log Activity',
                'verbose_name_plural': 'Log Activity',
                'ordering': ('-date_created',),
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='runtimeassignee',
            name='stage',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assignee_of_runtime_stage', to='workflow.runtimestage', verbose_name='Assignee in Stage'),
        ),
        migrations.AddField(
            model_name='runtimeassignee',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='runtime',
            name='flow',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='workflow.workflow', verbose_name='Workflow applied'),
        ),
        migrations.AddField(
            model_name='runtime',
            name='stage_currents',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stage_currently_of_runtime', to='workflow.runtimestage', verbose_name='Stage Currently'),
        ),
        migrations.AddField(
            model_name='runtime',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='runtime',
            name='viewer_append',
            field=models.ManyToManyField(help_text='All employee ID was append view permit', related_name='employee_viewer_append', through='workflow.RuntimeViewer', to='hr.employee', verbose_name='All employee ID Viewer'),
        ),
        migrations.AddField(
            model_name='node',
            name='workflow',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='node_workflow', to='workflow.workflow', verbose_name='workflow'),
        ),
        migrations.AddField(
            model_name='node',
            name='zones_initial_node',
            field=models.ManyToManyField(related_name='initial_node_map_zones', through='workflow.InitialNodeZone', to='workflow.zone'),
        ),
        migrations.AddField(
            model_name='initialnodezone',
            name='node',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.node'),
        ),
        migrations.AddField(
            model_name='initialnodezone',
            name='zone',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.zone'),
        ),
        migrations.CreateModel(
            name='CollaborationOutFormZone',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('collab', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.collaborationoutform')),
                ('zone', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.zone')),
            ],
            options={
                'verbose_name': 'Collab out form zone',
                'verbose_name_plural': 'Collab out form zones',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='CollaborationOutFormEmployee',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('collab', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.collaborationoutform')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='hr.employee')),
            ],
            options={
                'verbose_name': 'Collab out form employee',
                'verbose_name_plural': 'Collab out form employees',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='collaborationoutform',
            name='employees',
            field=models.ManyToManyField(related_name='collab_out_forms_map_employees', through='workflow.CollaborationOutFormEmployee', to='hr.employee'),
        ),
        migrations.AddField(
            model_name='collaborationoutform',
            name='node',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='workflow.node'),
        ),
        migrations.AddField(
            model_name='collaborationoutform',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='collaborationoutform',
            name='zone',
            field=models.ManyToManyField(related_name='collab_out_forms_map_zones', through='workflow.CollaborationOutFormZone', to='workflow.zone'),
        ),
        migrations.CreateModel(
            name='CollaborationInFormZone',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('collab', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.collaborationinform')),
                ('zone', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.zone')),
            ],
            options={
                'verbose_name': 'Collab in form zone',
                'verbose_name_plural': 'Collab in form zones',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='collaborationinform',
            name='node',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='workflow.node'),
        ),
        migrations.AddField(
            model_name='collaborationinform',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='collaborationinform',
            name='zone',
            field=models.ManyToManyField(related_name='collab_in_forms_map_zones', through='workflow.CollaborationInFormZone', to='workflow.zone'),
        ),
        migrations.CreateModel(
            name='CollabInWorkflowZone',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('collab', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.collabinworkflow')),
                ('zone', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.zone')),
            ],
            options={
                'verbose_name': 'Collab in workflow zone',
                'verbose_name_plural': 'Collab in workflow zones',
                'permissions': (),
                'default_permissions': (),
            },
        ),
        migrations.AddField(
            model_name='collabinworkflow',
            name='node',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workflow.node'),
        ),
        migrations.AddField(
            model_name='collabinworkflow',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='collabinworkflow',
            name='zone',
            field=models.ManyToManyField(related_name='collab_in_workflows_map_zones', through='workflow.CollabInWorkflowZone', to='workflow.zone'),
        ),
        migrations.AddField(
            model_name='association',
            name='node_in',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transition_node_input', to='workflow.node', verbose_name='node input'),
        ),
        migrations.AddField(
            model_name='association',
            name='node_out',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transition_node_output', to='workflow.node', verbose_name='node output'),
        ),
        migrations.AddField(
            model_name='association',
            name='tenant',
            field=models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant'),
        ),
        migrations.AddField(
            model_name='association',
            name='workflow',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='association_workflow', to='workflow.workflow', verbose_name='workflow'),
        ),
        migrations.CreateModel(
            name='WorkflowConfigOfApp',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(blank=True, max_length=100)),
                ('code', models.CharField(blank=True, max_length=100)),
                ('date_created', models.DateTimeField(default=django.utils.timezone.now, editable=False, help_text='The record created at value')),
                ('date_modified', models.DateTimeField(auto_now_add=True, help_text='Date modified this record in last')),
                ('is_active', models.BooleanField(default=True)),
                ('is_delete', models.BooleanField(default=False)),
                ('mode', models.SmallIntegerField(choices=[(0, 'UnApply'), (1, 'Apply'), (2, 'Pending')], default=0, verbose_name='Mode feature in workflow')),
                ('error_total', models.SmallIntegerField(default=0, verbose_name='Error total in feature')),
                ('application', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='workflow_config_of_application', to='base.application', verbose_name='application')),
                ('company', models.ForeignKey(help_text='The company claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_company', to='company.company')),
                ('employee_created', models.ForeignKey(help_text='Employee created this record', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_creator', to='hr.employee')),
                ('employee_modified', models.ForeignKey(help_text='Employee modified this record in last', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_employee_modifier', to='hr.employee')),
                ('tenant', models.ForeignKey(help_text='The tenant claims that this record belongs to them', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_belong_to_tenant', to='tenant.tenant')),
                ('workflow_currently', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='workflow.workflow', verbose_name='Workflow applied of feature')),
            ],
            options={
                'verbose_name': 'Workflow of Apps',
                'verbose_name_plural': 'Workflow of Apps',
                'ordering': ('title',),
                'permissions': (),
                'default_permissions': (),
                'unique_together': {('company', 'application')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='runtime',
            unique_together={('doc_id', 'app')},
        ),
    ]
